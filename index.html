<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Memory Game Level</title>
  <style>
    body {
      font-family: 'Comic Sans MS', cursive, sans-serif;
      background: linear-gradient(145deg, #ffe4e1, #e0ffff);
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 20px;
      min-height: 100vh;
    }
    h1 {
      font-size: 2rem;
      color: #ff1493;
      text-shadow: 1px 1px #fff;
      margin-bottom: 10px;
      text-align: center;
    }
    .level-label {
      font-size: 1.2rem;
      margin-bottom: 15px;
      color: #333;
    }
    .game-board {
      display: grid;
      gap: 10px;
      width: 100%;
      max-width: 500px;
      margin-bottom: 20px;
    }
    .card {
      background: transparent;
      width: 100%;
      aspect-ratio: 1/1;
      perspective: 1000px;
    }
    .card-inner {
      width: 100%;
      height: 100%;
      transition: transform 0.6s;
      transform-style: preserve-3d;
      position: relative;
    }
    .card.flip .card-inner {
      transform: rotateY(180deg);
    }
    .card-face {
      position: absolute;
      width: 100%;
      height: 100%;
      backface-visibility: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2rem;
      border-radius: 10px;
      box-shadow: 0 0 8px rgba(0,0,0,0.2);
    }
    .card-front {
      background: #1e90ff;
      color: white;
    }
    .card-back {
      background: #fff;
      transform: rotateY(180deg);
    }
    .matched .card-inner {
      box-shadow: 0 0 10px 3px limegreen;
    }
    .message {
      font-size: 1.2rem;
      color: #2e8b57;
      font-weight: bold;
      text-align: center;
      margin-bottom: 15px;
    }
    button {
      padding: 10px 20px;
      font-size: 1rem;
      background-color: #ff1493;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
    button:disabled {
      background: #aaa;
      cursor: not-allowed;
    }

    @media (min-width: 400px) {
      .card-face {
        font-size: 2.5rem;
      }
    }
  </style>
</head>
<body>
  <h1>üéâ Memory Game Anak üéâ</h1>
  <div class="level-label" id="levelLabel">Level 1</div>
  <div class="game-board" id="gameBoard"></div>
  <div class="message" id="message"></div>
  <button id="nextBtn" disabled>Lanjut Level Berikutnya ‚û°Ô∏è</button>

<script>
  const emojis = [
    "üçá","üöé","üê®","üêπ","üöÄ","üêÆ","üöê","üçç","üçâ","ü•ù",
    "üêµ","üê±","üçì","üêº","üêØ","üê∂","üê∞","ü¶ä","üê∏","üöô",
    "üöå","ü¶Å","ü•≠","üöë","üöÅ","üöí","üöì","üöó","üèéÔ∏è","üçë"
  ];

  let level = 1;
  const maxLevel = 30;
  const gameBoard = document.getElementById("gameBoard");
  const message = document.getElementById("message");
  const nextBtn = document.getElementById("nextBtn");
  const levelLabel = document.getElementById("levelLabel");

  let flippedCards = [];
  let lockBoard = false;
  let matchedPairs = 0;

  nextBtn.addEventListener("click", () => {
    level++;
    startLevel();
  });

  function startLevel() {
    message.textContent = "";
    levelLabel.textContent = "Level " + level;
    nextBtn.disabled = true;
    matchedPairs = 0;
    flippedCards = [];

    const pairCount = level;
    const selectedEmojis = emojis.slice(0, pairCount);
    const cardValues = [...selectedEmojis, ...selectedEmojis].sort(() => 0.5 - Math.random());

    gameBoard.innerHTML = "";

    const columnCount = Math.min(pairCount * 2, 6);
    gameBoard.style.gridTemplateColumns = `repeat(${columnCount}, 1fr)`;

    cardValues.forEach(symbol => {
      const card = document.createElement("div");
      card.classList.add("card");

      const cardInner = document.createElement("div");
      cardInner.classList.add("card-inner");

      const front = document.createElement("div");
      front.classList.add("card-face", "card-front");
      front.textContent = "‚ùì";

      const back = document.createElement("div");
      back.classList.add("card-face", "card-back");
      back.textContent = symbol;

      cardInner.appendChild(front);
      cardInner.appendChild(back);
      card.appendChild(cardInner);

      card.addEventListener("click", () => {
        if (lockBoard || card.classList.contains("flip") || card.classList.contains("matched")) return;

        card.classList.add("flip");
        flippedCards.push({ card, symbol });

        if (flippedCards.length === 2) {
          lockBoard = true;
          const [first, second] = flippedCards;

          if (first.symbol === second.symbol) {
            first.card.classList.add("matched");
            second.card.classList.add("matched");
            matchedPairs++;
            flippedCards = [];
            lockBoard = false;

            if (matchedPairs === pairCount) {
              message.textContent = "‚úÖ Level Selesai! Siap ke level berikutnya!";
              if (level < maxLevel) {
                nextBtn.disabled = false;
              } else {
                message.textContent = "üéâ Selamat! Kamu telah menyelesaikan semua level!";
                nextBtn.disabled = true;
              }
            }
          } else {
            setTimeout(() => {
              first.card.classList.remove("flip");
              second.card.classList.remove("flip");
              flippedCards = [];
              lockBoard = false;
            }, 1000);
          }
        }
      });

      gameBoard.appendChild(card);
    });
  }

  startLevel();
</script>
</body>
</html>
